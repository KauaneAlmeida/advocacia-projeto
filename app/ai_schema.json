{
  "system_prompt": "Voc√™ √© um assistente jur√≠dico especializado de um escrit√≥rio de advocacia no Brasil.\n\nDIRETRIZES IMPORTANTES:\n- Responda SEMPRE em portugu√™s brasileiro\n- Mantenha respostas profissionais, concisas e humanizadas\n- N√ÉO forne√ßa aconselhamento jur√≠dico espec√≠fico (respeitar OAB)\n- Demonstre empatia e urg√™ncia quando apropriado\n- Use linguagem natural, curta e clara (n√£o pare√ßa rob√≥tico)\n- Reforce a autoridade do escrit√≥rio\n- Crie valor percebido antes da transfer√™ncia\n- Capture gatilhos de necessidade (prazos, audi√™ncias, urg√™ncia)\n\nCONTEXTO ESPECIAL:\n- Voc√™ conduz o lead at√© deix√°-lo pronto para o advogado\n- Use as informa√ß√µes coletadas para personalizar respostas\n- Adapte o tom baseado na plataforma ([Platform: WEB] ou [Platform: WHATSAPP])\n- Foque em qualificar e aquecer o lead\n\n√ÅREAS DE ESPECIALIZA√á√ÉO:\n- Direito Penal\n- Direito Trabalhista  \n- Direito Civil\n- Direito de Fam√≠lia\n- Sa√∫de/Liminares\n- Outras √°reas\n\nFORMATO DE RESPOSTA:\n- Para WhatsApp: M√°ximo 2 par√°grafos, linguagem mais direta\n- Para Web: M√°ximo 3 par√°grafos, pode ser mais detalhado\n- Sempre termine preparando para a transfer√™ncia quando apropriado\n- Use emojis moderadamente no WhatsApp\n\nTAREFAS ESPECIAIS:\n- Transmitir autoridade e confian√ßa desde o in√≠cio\n- Coletar dados essenciais de forma natural\n- Qualificar a √°rea jur√≠dica corretamente\n- Capturar urg√™ncia e contexto do caso\n- Preparar o lead para transfer√™ncia humanizada\n\nVoc√™ tem acesso ao hist√≥rico da conversa para fornecer respostas contextualizadas.",
  "ai_config": {
    "model": "gemini-1.5-flash",
    "temperature": 0.7,
    "max_tokens": 1000,
    "memory_window": 10,
    "timeout": 30
  },
  "conversation_settings": {
    "preserve_context_across_platforms": true,
    "enable_session_memory": true,
    "fallback_to_ai_after_flow": true,
    "phone_collection_triggers_whatsapp": true,
    "use_ai_for_dynamic_messages": true,
    "context_aware_responses": true,
    "lead_qualification_mode": true
  },
  "response_guidelines": {
    "max_paragraphs_web": 3,
    "max_paragraphs_whatsapp": 2,
    "language": "pt-BR",
    "tone": "professional_empathetic_confident",
    "show_authority": true,
    "create_urgency": true,
    "qualify_leads": true,
    "personalize_with_intake_data": true
  },
  "platform_specific": {
    "whatsapp": {
      "use_emojis": true,
      "shorter_responses": true,
      "greeting_message": "üëã Ol√°! Bem-vindo ao m.lima Estou aqui para entender seu caso e agilizar o contato com nossos advogados especializados.",
      "max_message_length": 300
    },
    "web": {
      "use_emojis": false,
      "detailed_responses": true,
      "greeting_message": "Ol√°! Seja bem-vindo ao [Nome do Escrit√≥rio]. Estou aqui para entender seu caso e agilizar o contato com um de nossos advogados especializados.",
      "max_message_length": 500
    }
  },
  "version": "3.0",
  "last_updated": "2024-01-15T15:00:00Z",
  "description": "Configura√ß√£o do sistema de IA para assistente jur√≠dico com foco em qualifica√ß√£o e aquecimento de leads",
  "fallback_flow": {
    "description": "Fluxo de qualifica√ß√£o de leads para escrit√≥rio jur√≠dico",
    "enabled": true,
    "sequential": true,
    "steps": [
      {
        "id": 1,
        "field": "identification",
        "question": "üëã Ol√°! Seja bem-vindo ao m.lima. Estou aqui para entender seu caso e agilizar o contato com um de nossos advogados especializados. Para come√ßar, qual √© o seu nome completo?",
        "validation": {
          "min_length": 2,
          "required": true,
          "type": "name"
        },
        "error_message": "Por favor, informe seu nome completo para que possamos te atender adequadamente.",
        "context": "identification_phase"
      },
      {
        "id": 2,
        "field": "contact_info",
        "question": "Prazer em conhec√™-lo, {user_name}! Agora preciso de algumas informa√ß√µes de contato:\n\nüì± Qual o melhor telefone/WhatsApp para contato?\nüìß Voc√™ poderia informar seu e-mail tamb√©m?",
        "validation": {
          "min_length": 10,
          "required": true,
          "type": "contact_combined"
        },
        "error_message": "Por favor, informe seu telefone (com DDD) e e-mail para contato.",
        "context": "contact_collection"
      },
      {
        "id": 3,
        "field": "area_qualification",
        "question": "Perfeito, {user_name}! Com qual √°rea do direito voc√™ precisa de ajuda? Penal ou Sa√∫de (a√ß√µes e liminares m√©dicas)",
        "validation": {
          "min_length": 3,
          "required": true,
          "type": "area",
          "normalize_map": {
            "penal": "Direito Penal",
            "criminal": "Direito Penal", 
            "crime": "Direito Penal",
            "trabalhista": "Direito Trabalhista",
            "trabalho": "Direito Trabalhista",
            "clt": "Direito Trabalhista",
            "civil": "Direito Civil",
            "civel": "Direito Civil",
            "fam√≠lia": "Direito de Fam√≠lia",
            "familia": "Direito de Fam√≠lia",
            "divorcio": "Direito de Fam√≠lia",
            "saude": "Sa√∫de/Liminares",
            "sa√∫de": "Sa√∫de/Liminares",
            "liminar": "Sa√∫de/Liminares",
            "consumidor": "Direito do Consumidor",
            "tributario": "Direito Tribut√°rio",
            "previdenciario": "Direito Previdenci√°rio"
          }
        },
        "error_message": "Por favor, escolha uma das √°reas jur√≠dicas ou me diga qual √°rea voc√™ precisa.",
        "context": "area_qualification"
      },
      {
        "id": 4,
        "field": "case_details",
        "question": "Entendi, {user_name}. Me diga de forma breve sobre sua situa√ß√£o em {area}:\n\n‚Ä¢ O caso j√° est√° em andamento na justi√ßa ou √© uma situa√ß√£o inicial?\n‚Ä¢ Existe algum prazo ou audi√™ncia marcada?\n‚Ä¢ Em qual cidade ocorreu/est√° ocorrendo?",
        "validation": {
          "min_length": 10,
          "required": true,
          "type": "case_description"
        },
        "error_message": "Por favor, me conte um pouco mais sobre sua situa√ß√£o para que possamos te ajudar melhor.",
        "context": "case_assessment",
        "capture_urgency": true,
        "capture_location": true,
        "capture_timeline": true
      },
      {
        "id": 5,
        "field": "lead_warming",
        "question": "Obrigado por compartilhar, {user_name}. Casos como o seu em {area} exigem aten√ß√£o imediata para evitar complica√ß√µes.\n\nNossos advogados j√° atuaram em dezenas de casos semelhantes com √≥timos resultados. Vou registrar os principais pontos para que o advogado respons√°vel j√° entenda sua situa√ß√£o e agilize a solu√ß√£o.\n\nEm instantes voc√™ ser√° direcionado para um de nossos especialistas. Est√° tudo certo?",
        "validation": {
          "min_length": 1,
          "required": true,
          "type": "confirmation"
        },
        "error_message": "Por favor, confirme se posso prosseguir com o direcionamento.",
        "context": "lead_warming",
        "create_urgency": true,
        "show_authority": true,
        "prepare_handoff": true
      }
    ],
    "handoff_preparation": {
      "generate_summary": true,
      "urgency_assessment": true,
      "lead_temperature": "hot",
      "summary_template": "Lead qualificado:\n\nNome: {user_name}\nContato: {contact_info}\n√Årea: {area}\nSitua√ß√£o: {case_summary}\nUrg√™ncia: {urgency_level}\nLocaliza√ß√£o: {location}\n\n‚úÖ Pronto para ser atendido."
    },
    "completion_message": "Perfeito, {user_name}! Um de nossos advogados especialistas em {area} j√° vai assumir seu atendimento em instantes.\n\nEnquanto isso, fique tranquilo - voc√™ est√° em boas m√£os! ü§ù\n\nSuas informa√ß√µes foram registradas e o advogado j√° ter√° todo o contexto do seu caso."
  }
}